<script type="importmap">
    {
        "imports": {
            "@locker/near-membrane-base": "https://cdn.skypack.dev/@locker/near-membrane-base",
            "@locker/near-membrane-dom/custom-devtools-formatter.js": "https://cdn.skypack.dev/@locker/near-membrane-dom/custom-devtools-formatter.js",
            "@locker/near-membrane-shared": "https://cdn.skypack.dev/@locker/near-membrane-shared",
            "@locker/near-membrane-shared-dom": "https://cdn.skypack.dev/@locker/near-membrane-dom"
        }
    }
</script>
<script type="module">
    import createVM from './packages/membrane/dist/index.js'
    import './packages/membrane/chrome-devtools.js'
    import { makeGlobalThis } from './packages/compartment/dist/index.js'
    globalThis.vmGlobal = makeGlobalThis()
    globalThis.vm = createVM(globalThis, vmGlobal, {
        rethrowOptimization: true,
        endowments: { console: Object.getOwnPropertyDescriptor(globalThis, 'console') },
    })
</script>
